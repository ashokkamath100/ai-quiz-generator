import { PostgreSQLAdapter } from "../base.js";
export class NodePostgresAdapter extends PostgreSQLAdapter {
    constructor(client, tableNames) {
        super(new NodePostgresController(client), tableNames);
    }
}
class NodePostgresController {
    client;
    constructor(client) {
        this.client = client;
    }
    async get(sql, args) {
        const { rows } = await this.client.query(sql, args);
        return rows.at(0) ?? null;
    }
    async getAll(sql, args) {
        const { rows } = await this.client.query(sql, args);
        return rows;
    }
    async execute(sql, args) {
        await this.client.query(sql, args);
    }
}
