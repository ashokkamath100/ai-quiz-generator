import { PostgreSQLAdapter } from "../base.js";
export class NeonHTTPAdapter extends PostgreSQLAdapter {
    constructor(neon, tableNames) {
        super(new NeonHTTPController(neon), tableNames);
    }
}
class NeonHTTPController {
    neon;
    constructor(neon) {
        this.neon = neon;
    }
    async get(sql, args) {
        const result = await this.neon(sql, args);
        if (Array.isArray(result)) {
            return result.at(0) ?? null;
        }
        return result.rows.at(0) ?? null;
    }
    async getAll(sql, args) {
        const result = await this.neon(sql, args);
        if (Array.isArray(result)) {
            return result;
        }
        return result.rows;
    }
    async execute(sql, args) {
        await this.neon(sql, args);
    }
}
